{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap affded8fd1c022051975","webpack:///./src/index.js","webpack:///./src/fe-countdown.js","webpack:///./src/timerMgr/timerMgr.js","webpack:///./src/utils.js","webpack:///./src/defaultOptions.js"],"names":[],"mappings":"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","file":"countdown.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"countdown\"] = factory();\n\telse\n\t\troot[\"countdown\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap affded8fd1c022051975\n **/","import countdown from \"./fe-countdown\";\r\nmodule.exports =  countdown ;\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","import timerMgr from \"./timerMgr/timerMgr\";\nimport {\n  formatTime, formatTemplete, self\n}\nfrom \"./utils\"\n\nimport defaultOptions from \"./defaultOptions\"\n\n\n\nvar delayTime = 1000;\nvar tm = new timerMgr();\n\n\n\nexport default class countDown {\n  constructor(config) {\n    for (var i in defaultOptions) {\n      if (defaultOptions.hasOwnProperty(i)) {\n        this[i] = config[i] || defaultOptions[i];\n      }\n    }\n\n    this.msInterval = tm.getTimer(this.delayTime)\n    this.init();\n  }\n\n  init() {\n    var self = this;\n    if (this.fixNowDate) {\n      var fix = new timerMgr.timer(this.fixNow);\n      fix.add(function() {\n        getNowTime(function(now) {\n          self.now = now;\n        });\n      });\n    }\n    var index = this.msInterval.add(function() {\n      self.now += delayTime;\n      if (self.now >= self.endTime) {\n        this.msInterval.remove(index);\n        self.end();\n      } else {\n        self.render(self.getOutString());\n      }\n    });\n  }\n\n  getBetween() {\n    return formatTime(this.endTime - this.now);\n  }\n\n  getOutString() {\n    var between = this.getBetween();\n    return formatTemplete(this.template, between);\n  }\n\n\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/fe-countdown.js\n **/","var timerMgr = function() {\n  this._timePool = new TimePool();\n}\ntimerMgr.prototype.getTimer = function(delay) {\n  return this._timePool.getTimer(delay)\n}\ntimerMgr.prototype.createTimer = function(opts) {\n  var defaultOptions = {\n    delayTime: 1000,\n    end: function() {\n      console.log(\"end this.opts\")\n    },\n    start: function() {\n      console.log(\"start this.opts\")\n    },\n    timerFn: function() {\n      console.log(\"timerFn\")\n    },\n    fixNowDate: false,\n    startTime: new Date().getTime(),\n    endTime: new Date().getTime()\n  }\n\n  var config = untils.extend(defaultOptions, opts)\n  console.log(config);\n  return this._timePool.getTimer(config.delayTime)\n}\n\ntimerMgr.timer = timer;\n\nexport default timerMgr\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/timerMgr/timerMgr.js\n **/","function cover(num) {\n  var n = parseInt(num, 10);\n  return n < 10 ? '0' + n : n;\n}\n\nfunction formatTime(ms) {\n  var s = ms / 1000,\n    m = s / 60;\n  return {\n    d: cover(m / 60 / 24),\n    h: cover(m / 60 % 24),\n    m: cover(m % 60),\n    s: cover(s % 60)\n  };\n}\n\nfunction formatTemplete(template, data) {\n  return template.replace(/{{(\\w*)}}/g, function(m, key) {\n    return data.hasOwnProperty(key) ? data[key] : \"\";\n  })\n}\n\nfunction getNowTime(cb) {\n  var xhr = new XMLHttpRequest();\n  xhr.open('get', '/', true);\n  xhr.onreadystatechange = function() {\n    if (xhr.readyState === 3) {\n      var now = xhr.getResponseHeader('Date');\n      cb(new Date(now).valueOf());\n    }\n  };\n  xhr.send(null);\n}\n\nfunction extend(...args) {\n  var config = {}\n  for (var varible in args[0]) {\n    if (args[0].hasOwnProperty(varible)) {\n      config[varible] = args[1][varible] || args[0][varible]\n    }\n  }\n  return config;\n}\n\nconst utils = {\n  cover, formatTime, formatTemplete, getNowTime, extend\n}\n\nmodule.exports = utils\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/","module.exports = {\n  fixNow: 3 * 1000,\n  fixNowDate: false,\n  now: new Date().valueOf(),\n  template: '{{d}}:{{h}}:{{m}}:{{s}}',\n  render: function(outstring) {\n    console.log(outstring);\n  },\n  end: function() {\n    console.log('the end!');\n  },\n  endTime: new Date().valueOf() + 5 * 1000 * 60,\n  delayTime: 1000\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/defaultOptions.js\n **/"],"sourceRoot":""}